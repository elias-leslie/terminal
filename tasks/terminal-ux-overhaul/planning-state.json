{
  "task_name": "terminal-ux-overhaul",
  "complexity": "COMPLEX",
  "phase": "interview",
  "exploration_summary": {
    "scrolling": {
      "current": "tmux copy-mode via Ctrl+B [ and Ctrl+U/D - bad UX, requires mode switch",
      "target": "ghostty-style history hydration - sync tmux scrollback to xterm.js on connect, use native xterm.js scrolling",
      "key_files": [
        "frontend/lib/hooks/use-terminal-scrolling.ts (DELETE)",
        "frontend/components/Terminal.tsx",
        "terminal/api/terminal.py",
        "terminal/services/pty_manager.py"
      ]
    },
    "performance": {
      "output_throttling": "Currently unbounded, need 16ms/4KB batching in read_pty_output",
      "resize_debounce": "Needs 150ms debounce on frontend before sending resize"
    },
    "security": {
      "env_scrubbing": "Need to filter DATABASE_URL, secrets from child shell env"
    },
    "project_pane_bug": {
      "symptom": "Click + button to add project terminal pane is broken",
      "suspected_files": [
        "frontend/components/TerminalManagerModal.tsx",
        "frontend/lib/hooks/use-project-settings.ts",
        "frontend/lib/hooks/use-terminal-handlers.ts"
      ],
      "recent_changes": "Large refactor on 2025-01-15 (513ddd4) touched 17 frontend files"
    }
  },
  "interview_questions": [],
  "overall_confidence": 85,
  "next_action": "interview"
}
