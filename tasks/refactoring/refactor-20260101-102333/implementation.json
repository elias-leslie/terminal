{
  "meta": {
    "title": "Terminal Frontend Cleanup - Redundant Wrappers and Unused Code",
    "created": "2026-01-01",
    "session_id": "refactor-20260101-102333",
    "project_id": "terminal",
    "targets_analyzed": 2,
    "baseline_complexity": 11.78
  },
  "phases": [
    {
      "id": 1,
      "name": "Dead Code Removal",
      "goal": "Remove unused imports and declarations",
      "tasks": [
        {
          "id": "1.1",
          "tier": 1,
          "model": "haiku",
          "parallelizable": true,
          "description": "Remove unused queryClient from TerminalTabs.tsx",
          "files_affected": ["frontend/components/TerminalTabs.tsx"],
          "steps": [
            "Remove useQueryClient from @tanstack/react-query import (line 4)",
            "Remove const queryClient = useQueryClient() declaration (line 48)",
            "Verify no other usages of queryClient in file",
            "Run npm run build to verify no type errors"
          ],
          "verification": "npm run build --prefix /home/kasadis/terminal/frontend",
          "passes": false
        }
      ]
    },
    {
      "id": 2,
      "name": "DRY Consolidation",
      "goal": "Remove redundant wrapper callbacks that duplicate hook functionality",
      "tasks": [
        {
          "id": "2.1",
          "tier": 1,
          "model": "haiku",
          "parallelizable": true,
          "description": "Remove redundant navigateToSession wrapper - use switchToSession directly",
          "files_affected": ["frontend/components/TerminalTabs.tsx"],
          "steps": [
            "Locate navigateToSession callback definition (around lines 230-234)",
            "Find all usages of navigateToSession (should be 4 occurrences)",
            "Replace each navigateToSession(id) call with switchToSession(id)",
            "Remove the navigateToSession callback definition",
            "Verify switchToSession is already imported from useActiveSession hook",
            "Run npm run build to verify no type errors"
          ],
          "verification": "npm run build --prefix /home/kasadis/terminal/frontend",
          "passes": false
        },
        {
          "id": "2.2",
          "tier": 1,
          "model": "haiku",
          "parallelizable": true,
          "description": "Remove redundant startClaudeInSession wrapper - use startClaude directly",
          "files_affected": ["frontend/components/TerminalTabs.tsx"],
          "steps": [
            "Locate startClaudeInSession callback definition (around lines 237-239)",
            "Find the single usage in handleProjectTabClick (around line 262)",
            "Replace startClaudeInSession(session.id) with startClaude(session.id)",
            "Remove the startClaudeInSession callback definition",
            "Verify startClaude is already available from useClaudePolling hook",
            "Run npm run build to verify no type errors"
          ],
          "verification": "npm run build --prefix /home/kasadis/terminal/frontend",
          "passes": false
        }
      ]
    },
    {
      "id": 3,
      "name": "Performance Optimization",
      "goal": "Replace inefficient patterns with optimized alternatives",
      "tasks": [
        {
          "id": "3.1",
          "tier": 1,
          "model": "haiku",
          "parallelizable": true,
          "description": "Replace JSON.stringify array comparison with efficient equality check",
          "files_affected": ["frontend/components/TerminalManagerModal.tsx"],
          "steps": [
            "Locate the handleApply function (around line 109)",
            "Find JSON.stringify comparison: JSON.stringify(originalOrder) !== JSON.stringify(newOrder)",
            "Replace with efficient check: originalOrder.length !== newOrder.length || originalOrder.some((id, idx) => id !== newOrder[idx])",
            "Verify the orderChanged const still correctly identifies order changes",
            "Run npm run build to verify no type errors"
          ],
          "verification": "npm run build --prefix /home/kasadis/terminal/frontend",
          "passes": false
        }
      ]
    },
    {
      "id": 4,
      "name": "Final Verification",
      "goal": "Ensure all changes build and no regressions introduced",
      "tasks": [
        {
          "id": "4.1",
          "tier": 1,
          "model": "haiku",
          "parallelizable": false,
          "description": "Full build verification and regression check",
          "files_affected": [],
          "steps": [
            "Run npm run build in frontend directory",
            "Verify build completes without errors",
            "Check for any TypeScript errors with npx tsc --noEmit",
            "Verify no console warnings about undefined functions"
          ],
          "verification": "cd /home/kasadis/terminal/frontend && npm run build && npx tsc --noEmit",
          "passes": false
        }
      ]
    }
  ]
}
